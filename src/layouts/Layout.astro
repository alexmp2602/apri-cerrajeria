---
import "../styles/global.css";
import IconWhatsapp from "../components/icons/IconWhatsapp.astro";

const { title = "Cerrajería APRI 24hs | Mendoza", description } = Astro.props;
---

<!doctype html>
<html lang="es">
  <head>
    <!-- META -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>
    <meta
      name="description"
      content={description ||
        "Cerrajería APRI brinda atención urgente las 24hs en Mendoza y alrededores. Aperturas, cambio de cerraduras y copias de llaves."}
    />
    <meta
      name="keywords"
      content="cerrajería, 24hs, Mendoza, San José, apertura de puertas, cambio de cerraduras, copias de llaves"
    />
    <meta name="author" content="Cerrajería APRI" />

    <!-- FONTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- FAVICON -->
    <link
      rel="icon"
      href="https://www.cerrajeriaapri24hs.com.ar/icons/icon_512x512_transparente.png"
      type="image/png"
    />
    <link
      rel="apple-touch-icon"
      href="https://www.cerrajeriaapri24hs.com.ar/icons/icon_512x512_transparente.png"
    />
    <link rel="manifest" href="/site.webmanifest" />

    <!-- OPEN GRAPH -->
    <meta property="og:title" content={title} />
    <meta
      property="og:description"
      content="Servicio de cerrajería urgente 24 horas en Mendoza. Rápido, profesional y confiable."
    />
    <meta
      property="og:image"
      content="https://www.cerrajeriaapri24hs.com.ar/icons/apri.jpg"
    />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="es_AR" />
    <meta property="og:url" content="https://www.cerrajeriaapri24hs.com.ar" />

    <!-- TWITTER -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta
      name="twitter:description"
      content="Servicio de cerrajería urgente 24 horas en Mendoza."
    />
    <meta
      name="twitter:image"
      content="https://www.cerrajeriaapri24hs.com.ar/icons/apri.jpg"
    />

    <!-- SCHEMA -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Locksmith",
        "name": "Cerrajería APRI",
        "description": "Cerrajería APRI brinda atención urgente las 24hs en Mendoza y alrededores. Aperturas, cambio de cerraduras y copias de llaves.",
        "image": "https://www.cerrajeriaapri24hs.com.ar/icons/apri.jpg",
        "logo": "https://www.cerrajeriaapri24hs.com.ar/icons/icon_512x512_transparente.png",
        "url": "https://www.cerrajeriaapri24hs.com.ar",
        "telephone": "+54 9 261 518 8484",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Mendoza",
          "addressRegion": "Mendoza",
          "addressCountry": "AR"
        },
        "openingHours": "Mo-Su 00:00-23:59",
        "areaServed": {
          "@type": "Place",
          "name": "Mendoza, Argentina"
        },
        "priceRange": "$$"
      }
    </script>

    <!-- ✅ GOOGLE TAG MANAGER (HEAD) -->
    <!-- eslint-disable -->
    <script>
      // @ts-nocheck
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, "script", "dataLayer", "GTM-MPDBZZFK");
    </script>
    <!-- ✅ END GTM -->
  </head>

  <body class="bg-[#121212] text-white font-sans antialiased relative">
    <!-- ✅ GOOGLE TAG MANAGER (NOSCRIPT) -->
    <noscript>
      <iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-MPDBZZFK"
        height="0"
        width="0"
        style="display:none;visibility:hidden"></iframe>
    </noscript>
    <!-- ✅ END GTM -->

    <main>
      <slot />
    </main>

    <!-- BOTÓN DE WHATSAPP -->
    <a
      href="https://wa.me/5492615188484"
      target="_blank"
      rel="noopener noreferrer"
      class="fixed bottom-6 right-6 z-50 bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-lg transition-transform duration-300 hover:scale-110 focus:outline-none"
      aria-label="Chatear por WhatsApp"
    >
      <IconWhatsapp />
    </a>
  </body>
</html>
